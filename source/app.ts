import ingredientRoutes from './routes/ingredient.route';
import router from './config/router.config';

const API_ROOT = '/api/v1';

///////////////////////////////////////////////////////////////////////////////////////////////////
// Routes /////////////////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////////////////////////
router.use(`${API_ROOT}/ingredients`, ingredientRoutes);

///////////////////////////////////////////////////////////////////////////////////////////////////
// Error handling /////////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////////////////////////
router.use((req, res, next) => {
    const error = new Error('Not found');
    return res.status(404).json({
        message: error.message
    });
});

export default router;
