///////////////////////////////////////////////////////////////////////////////////////////////////
// Permission levels //////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////////////////////////
const ADMIN: number = 0;

export { ADMIN };

///////////////////////////////////////////////////////////////////////////////////////////////////
// Authentication methods /////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////////////////////////
import api_keys from '../api-keys.json';

const convertKey = (key: string | string[] | undefined): string => (typeof key === 'string' ? key : '');

const getPermissionLevel = (api_key: string | string[] | undefined): number => {
    const key_string = convertKey(api_key);
    for (const { key, permission_level } of api_keys) {
        if (key === key_string) return permission_level;
    }

    return -1;
};

export default getPermissionLevel;
